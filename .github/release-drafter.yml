# Release Drafter Configuration
# Automatically generates release notes from merged PRs
# Uses Keep a Changelog format: https://keepachangelog.com/
# See: https://github.com/release-drafter/release-drafter

name-template: 'v$RESOLVED_VERSION'
tag-template: 'v$RESOLVED_VERSION'

# Group PRs by label into Keep a Changelog categories
# Order matters - first matching label determines category
categories:
  # Keep a Changelog standard sections
  - title: '⚠️ Breaking Changes'
    labels:
      - 'breaking'
  - title: '### Added'
    labels:
      - 'enhancement'
      - 'component:command'
      - 'component:skill'
      - 'component:agent'
      - 'component:hook'
  - title: '### Changed'
    labels:
      - 'refactor'
      - 'automation'
  - title: '### Deprecated'
    labels:
      - 'deprecated'
  - title: '### Removed'
    labels:
      - 'removed'
  - title: '### Fixed'
    labels:
      - 'bug'
  - title: '### Security'
    labels:
      - 'security'
  # Additional useful sections (not in Keep a Changelog but valuable)
  - title: '### Performance'
    labels:
      - 'optimization'
  - title: '### Documentation'
    labels:
      - 'documentation'
      - 'component:docs'
  - title: '### Dependencies'
    labels:
      - 'dependencies'
      - 'github-actions'

# Exclude certain labels from release notes
exclude-labels:
  - 'duplicate'
  - 'invalid'
  - 'wontfix'
  - 'stale'

# Format for each change entry
change-template: '- $TITLE (#$NUMBER)'
change-title-escapes: '\<*_&'

# Determine version bump from labels
version-resolver:
  major:
    labels:
      - 'breaking'
  minor:
    labels:
      - 'enhancement'
  patch:
    labels:
      - 'bug'
      - 'documentation'
      - 'dependencies'
      - 'github-actions'
      - 'automation'
      - 'security'
      - 'optimization'
  default: patch

# Release notes template (Keep a Changelog format)
template: |
  ## What's Changed

  $CHANGES

  **Full Changelog**: https://github.com/$OWNER/$REPOSITORY/compare/$PREVIOUS_TAG...v$RESOLVED_VERSION
